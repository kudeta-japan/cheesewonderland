<!doctype html>
<html lang="ja">
<head>
  <!-- Cheese Wonderland „Ç¢„É≥„Ç±„Éº„ÉàÔºàFormspreeÁâàÔºâ
       A/B/C 3ÁîªÈù¢„ÉªÈÄ≤Ë°å„É°„Éº„Çø„ÉºÂõ∫ÂÆö(A0/B33/C66)„ÉªCË¶ñË™çÊÄßUP
       ÈÄÅ‰ø°ÊàêÂäüÔºöstaff.jpg + „ÅäÁ§º„É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫ÔºèÁâπÂÖ∏„Å™„Åó
  -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cheese Wonderland „Ç¢„É≥„Ç±„Éº„Éà</title>
  <meta name="description" content="Cheese Wonderland „ÅîÂèÇÂä†ËÄÖ„Ç¢„É≥„Ç±„Éº„ÉàÔºàÊâÄË¶Å2„Äú3ÂàÜ„ÉªÂåøÂêçÔºâ" />
  <style>
    :root{
      --bg:#080a10; --fg:#f8f8fb; --muted:#b9bfd1; --brand:#ffd54d; --brand2:#ffb300;
      --card:#121520; --ok:#31c48d; --accent:#78d3ff; --rose:#ff7ab6; --cbg:#0b1020;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
      background:
        radial-gradient(1200px 800px at 70% -20%, rgba(255,213,77,.10), transparent),
        radial-gradient(1000px 600px at 10% 110%, rgba(120,211,255,.08), transparent),
        var(--bg);
      color:var(--fg);
    }
    .wrap{max-width:960px; margin:0 auto; padding:28px 18px 64px;}
    header{display:flex; align-items:flex-start; justify-content:space-between; gap:16px; margin-bottom:12px}
    .brand{display:flex; align-items:center; gap:12px}
    .logo{width:44px; height:44px; border-radius:12px; background:conic-gradient(from 20deg,var(--brand),var(--brand2)); box-shadow:0 6px 18px rgba(255,181,0,.25);}
    h1{font-size: clamp(1.2rem, 2.4vw, 1.8rem); margin:0}
    .muted{color:var(--muted); font-size:.95rem}

    /* mascot */
    .mascot{position:relative; display:flex; align-items:center; gap:12px}
    .mascot svg{width:96px; filter: drop-shadow(0 10px 28px rgba(255,179,0,.22)); animation: floaty 4s ease-in-out infinite;}
    @keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}
    .bubble{position:relative; background:#0f1430; border:1px solid rgba(255,255,255,.10); padding:10px 12px; border-radius:14px; max-width:320px;}
    .bubble:after{content:""; position:absolute; left:-8px; top:22px; border:8px solid transparent; border-right-color:#0f1430; filter:drop-shadow(-1px 0 0 rgba(255,255,255,.1))}
    .bubble strong{color:#ffe082}

    .card{background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.0)); border:1px solid rgba(255,255,255,.06); box-shadow:0 10px 30px rgba(0,0,0,.25); border-radius:22px; padding:18px; margin:16px 0;}

    /* progress */
    .progress-wrap{position:relative;}
    .bar{height:10px; background:#20242c; border-radius:999px; overflow:hidden;}
    .bar>i{display:block; height:100%; width:0%; background:linear-gradient(90deg,var(--brand),var(--brand2)); box-shadow:0 0 22px rgba(255,179,0,.45) inset; transition:width .35s ease}
    .bar .buddy{position:absolute; top:50%; transform:translate(-50%,-50%); width:28px; height:28px; border-radius:50%; background:radial-gradient(circle at 30% 30%, #fff7c4, #ffcc33); box-shadow:0 8px 18px rgba(255,190,0,.35); border:2px solid #2a2210}
    .bar .buddy:after{content:"üßÄ"; position:absolute; inset:0; display:grid; place-items:center; font-size:16px}
    .progress-caption{display:flex; justify-content:space-between; align-items:center; margin-top:6px; font-size:.92rem; color:var(--muted)}

    /* inputs */
    .grid{display:grid; gap:12px}
    .two{grid-template-columns:repeat(2, minmax(0,1fr));}
    @media (max-width: 720px){ .two{grid-template-columns:1fr;} }
    label{display:block; font-weight:700; margin:6px 0 8px}
    .help{color:var(--muted); font-size:.9rem}
    .opt{display:flex; gap:10px; flex-wrap:wrap}
    .opt input[type="radio"], .opt input[type="checkbox"]{display:none}
    .opt label{border:1px solid rgba(255,255,255,.14); padding:12px 14px; border-radius:14px; cursor:pointer; background:#101217; transition:.15s transform, .2s box-shadow}
    .opt label:hover{transform:translateY(-1px)}
    .opt input:checked + label{outline:2px solid var(--brand); background:linear-gradient(180deg,rgba(255,213,77,.12),transparent); box-shadow:0 0 0 6px rgba(255,213,77,.10)}
    select, input[type="number"], input[type="text"], textarea{ width:100%; background:#101217; color:var(--fg); border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:12px 14px; font-size:1rem; outline:none; }
    textarea{min-height:120px; line-height:1.5}

    .btns{display:flex; gap:10px; flex-wrap:wrap}
    button{cursor:pointer; border:0; padding:12px 16px; border-radius:14px; font-weight:800; transition:transform .08s ease}
    .primary{background:linear-gradient(135deg,var(--brand),var(--brand2)); color:#202020}
    .ghost{background:transparent; color:#fff; border:1px solid rgba(255,255,255,.14)}
    button:active{transform:translateY(1px) scale(.99)}

    .section-badge{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background:#101217; border:1px solid rgba(255,255,255,.12); font-size:.85rem; margin-bottom:8px}
    .section-badge--c{background:#0f1426; border-color:rgba(120,211,255,.3); box-shadow:0 0 0 2px rgba(120,211,255,.15) inset}

    .step{display:none}
    .step.active{display:block; animation: fadeIn .22s ease}
    @keyframes fadeIn{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}

    /* ==== CÁîªÈù¢ Ë¶ñË™çÊÄßUP ==== */
    .step[data-step="3"]{--stripe1:linear-gradient(180deg,var(--accent),#9ad9ff); --stripe2:linear-gradient(180deg,#ffa8d2,var(--rose)); --stripe3:linear-gradient(180deg,#ffd761,var(--brand2));}
    .cgroup{background:var(--cbg); border:1px solid rgba(255,255,255,.10); border-radius:16px; padding:14px; position:relative; box-shadow:0 6px 20px rgba(0,0,0,.25);}
    .cgroup:before{content:""; position:absolute; left:-1px; top:-1px; bottom:-1px; width:6px; border-radius:16px 0 0 16px; background:var(--stripe1);}
    .cgroup.alt1:before{ background:var(--stripe2); }
    .cgroup.alt2:before{ background:var(--stripe3); }
    .step[data-step="3"] .opt label{ background:#0f1528; border-color:rgba(120,211,255,.22);}
    .step[data-step="3"] .opt input:checked + label{ outline-color:#9ad9ff; background:linear-gradient(180deg,rgba(120,211,255,.18),transparent); box-shadow:0 0 0 6px rgba(120,211,255,.12)}
    .step[data-step="3"] label{ color:#e8f3ff }
    .hint{color:#a3c9ff; font-size:.9rem}
    .divider{height:1px;background:linear-gradient(90deg,transparent,rgba(120,211,255,.35),transparent); margin:6px 0 2px}

    /* helpers */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace}
    .error{animation:shake .3s ease}
    @keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(4px)}75%{transform:translateX(-4px)}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Cheese Wonderland „Ç¢„É≥„Ç±„Éº„Éà</h1>
          <div class="muted">ÊâÄË¶Å <b>2„Äú3ÂàÜ</b>ÔºèÂåøÂêç„Éª‰∏ÄÈÉ®‰ªªÊÑè</div>
        </div>
      </div>
      <div class="mascot" aria-live="polite">
        <!-- üßÄ „Éû„Çπ„Ç≥„ÉÉ„Éà -->
        <svg viewBox="0 0 160 140" aria-hidden="true">
          <defs>
            <radialGradient id="bodyGrad" cx="35%" cy="30%" r="75%">
              <stop offset="0%" stop-color="#fffad1"/><stop offset="100%" stop-color="#ffcc33"/>
            </radialGradient>
            <linearGradient id="shine" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#ffffff" stop-opacity=".6"/><stop offset="100%" stop-color="#ffffff" stop-opacity="0"/>
            </linearGradient>
          </defs>
          <line x1="55" y1="120" x2="50" y2="135" stroke="#2a2210" stroke-width="4"><animate attributeName="y2" values="135;132;135" dur="1.2s" repeatCount="indefinite"/></line>
          <line x1="95" y1="120" x2="100" y2="135" stroke="#2a2210" stroke-width="4"><animate attributeName="y2" values="135;138;135" dur="1.2s" repeatCount="indefinite"/></line>
          <polygon points="30,110 120,110 75,30" fill="url(#bodyGrad)" stroke="#a67810" stroke-width="4"/>
          <path d="M70 38 Q80 46 85 60" stroke="url(#shine)" stroke-width="6" fill="none" opacity=".7"/>
          <circle cx="74" cy="72" r="7" fill="#f5b400" opacity=".8"/><circle cx="92" cy="88" r="5" fill="#f5b400" opacity=".8"/><circle cx="58" cy="95" r="4" fill="#f5b400" opacity=".8"/>
          <g>
            <path d="M28 90 q-18 -8 -20 8" stroke="#a67810" stroke-width="4" fill="none">
              <animate attributeName="d" values="M28 90 q-18 -8 -20 8; M28 90 q-18 0 -20 8; M28 90 q-18 -8 -20 8" dur="1.8s" repeatCount="indefinite"/>
            </path>
            <path d="M122 90 q18 -8 20 8" stroke="#a67810" stroke-width="4" fill="none">
              <animate attributeName="d" values="M122 90 q18 -8 20 8; M122 90 q18 0 20 8; M122 90 q18 -8 20 8" dur="1.8s" repeatCount="indefinite"/>
            </path>
          </g>
          <g>
            <ellipse cx="70" cy="68" rx="3" ry="3.5" fill="#2a2210"><animate attributeName="ry" values="3.5;0.6;3.5" dur="4s" repeatCount="indefinite"/></ellipse>
            <ellipse cx="88" cy="68" rx="3" ry="3.5" fill="#2a2210"><animate attributeName="ry" values="3.5;3.5;0.6;3.5" dur="4s" repeatCount="indefinite"/></ellipse>
            <path d="M70 82 Q79 86 88 82" stroke="#2a2210" stroke-width="4" fill="none"/>
            <circle cx="62" cy="76" r="2" fill="#ff8aa6"/><circle cx="96" cy="76" r="2" fill="#ff8aa6"/>
          </g>
        </svg>
        <div class="bubble" id="bubble">„Çà„ÅÜ„Åì„ÅùÔºÅ„Åæ„Åö„ÅØ<strong>A</strong>„Åã„Çâ„ÄÇÂÖ®ÈÉ®„Åß3ÁîªÈù¢„Å†„ÇàüßÄ</div>
      </div>
    </header>

    <div class="card">
      <div class="progress-wrap">
        <div class="bar"><i id="progress"></i><i class="buddy" id="buddy" style="left:0%"></i></div>
        <div class="progress-caption"><span id="captionLeft">A. ÂÖ®‰ΩìË©ï‰æ° / ÊÆã„Çä2ÁîªÈù¢</span><span id="captionRight">0%</span></div>
      </div>

      <form id="form" class="grid" novalidate>
        <!-- üîí honeypot -->
        <input type="text" name="website" autocomplete="off" class="sr-only" tabindex="-1" aria-hidden="true">
        <input type="hidden" name="timestamp" id="timestamp">
        <input type="hidden" name="source" id="source">
        <input type="hidden" name="form_version" value="cw_v1.8_photo_final">

        <!-- A -->
        <section class="step active" data-step="1">
          <div class="section-badge">A. ÂÖ®‰ΩìË©ï‰æ°</div>
          <div class="grid two">
            <div>
              <label>Êú¨Êó•„ÅÆÊ∫ÄË∂≥Â∫¶Ôºà1„Äú5Ôºâ</label>
              <div class="opt" role="radiogroup" aria-label="Ê∫ÄË∂≥Â∫¶">
                <input type="radio" id="csat1" name="csat" value="1" required><label for="csat1">1</label>
                <input type="radio" id="csat2" name="csat" value="2"><label for="csat2">2</label>
                <input type="radio" id="csat3" name="csat" value="3"><label for="csat3">3</label>
                <input type="radio" id="csat4" name="csat" value="4"><label for="csat4">4</label>
                <input type="radio" id="csat5" name="csat" value="5"><label for="csat5">5</label>
              </div>
              <p class="help">1=‰∏çÊ∫Ä / 5=„Å®„Å¶„ÇÇÊ∫ÄË∂≥</p>
            </div>
            <div>
              <label>Âèã‰∫∫„Å´Âãß„ÇÅ„Åü„ÅÑÂ∫¶Ôºà1„Äú5Ôºâ</label>
              <div class="opt" role="radiogroup" aria-label="Âãß„ÇÅ„Åü„ÅÑÂ∫¶">
                <input type="radio" id="nps1" name="nps" value="1" required><label for="nps1">1</label>
                <input type="radio" id="nps2" name="nps" value="2"><label for="nps2">2</label>
                <input type="radio" id="nps3" name="nps" value="3"><label for="nps3">3</label>
                <input type="radio" id="nps4" name="nps" value="4"><label for="nps4">4</label>
                <input type="radio" id="nps5" name="nps" value="5"><label for="nps5">5</label>
              </div>
            </div>
            <div>
              <label>Ê¨°Âõû„ÇÇÂèÇÂä†„Åó„Åü„ÅÑ„Åß„Åô„ÅãÔºü</label>
              <div class="opt">
                <input type="radio" id="rejoin_yes" name="rejoin" value="„ÅØ„ÅÑ" required><label for="rejoin_yes">„ÅØ„ÅÑ</label>
                <input type="radio" id="rejoin_maybe" name="rejoin" value="Êú™ÂÆö"><label for="rejoin_maybe">Êú™ÂÆö</label>
                <input type="radio" id="rejoin_no" name="rejoin" value="„ÅÑ„ÅÑ„Åà"><label for="rejoin_no">„ÅÑ„ÅÑ„Åà</label>
              </div>
            </div>
            <div>
              <label>‰æ°Ê†º„ÅÆÁ¥çÂæóÊÑü</label>
              <div class="opt">
                <input type="radio" id="price1" name="price_fairness" value="È´ò„Åô„Åé„Çã" required><label for="price1">È´ò„Åô„Åé„Çã</label>
                <input type="radio" id="price2" name="price_fairness" value="„ÇÑ„ÇÑÈ´ò„ÅÑ"><label for="price2">„ÇÑ„ÇÑÈ´ò„ÅÑ</label>
                <input type="radio" id="price3" name="price_fairness" value="„Å°„Çá„ÅÜ„Å©„Çà„ÅÑ"><label for="price3">„Å°„Çá„ÅÜ„Å©„Çà„ÅÑ</label>
                <input type="radio" id="price4" name="price_fairness" value="„ÇÑ„ÇÑÂÆâ„ÅÑ"><label for="price4">„ÇÑ„ÇÑÂÆâ„ÅÑ</label>
                <input type="radio" id="price5" name="price_fairness" value="ÂÆâ„Åô„Åé„Çã"><label for="price5">ÂÆâ„Åô„Åé„Çã</label>
              </div>
            </div>
          </div>
          <div class="btns"><button type="button" class="primary" data-next>Ê¨°„Å∏ÔºàB„Å∏ÈÄ≤„ÇÄÔºâ</button></div>
        </section>

        <!-- B -->
        <section class="step" data-step="2">
          <div class="section-badge">B. ÂêÑ„Ç¢„Éà„É©„ÇØ„Ç∑„Éß„É≥Ôºà1„Äú5Ôºâ</div>
          <div class="grid two">
            <div><label>„É©„ÇØ„É¨„ÉÉ„Éà„Çπ„É©„Ç§„ÉÄ„Éº</label><div class="opt" role="radiogroup">
              <input type="radio" id="rac1" name="raclette_slider" value="1" required><label for="rac1">1</label>
              <input type="radio" id="rac2" name="raclette_slider" value="2"><label for="rac2">2</label>
              <input type="radio" id="rac3" name="raclette_slider" value="3"><label for="rac3">3</label>
              <input type="radio" id="rac4" name="raclette_slider" value="4"><label for="rac4">4</label>
              <input type="radio" id="rac5" name="raclette_slider" value="5"><label for="rac5">5</label>
            </div></div>
            <div><label>„Ç∑„Ç´„Ç¥„Ç¶„Ç©„Éº„Çø„Éº„Éï„Ç©„Éº„É´</label><div class="opt" role="radiogroup">
              <input type="radio" id="cwf1" name="chicago_waterfall" value="1" required><label for="cwf1">1</label>
              <input type="radio" id="cwf2" name="chicago_waterfall" value="2"><label for="cwf2">2</label>
              <input type="radio" id="cwf3" name="chicago_waterfall" value="3"><label for="cwf3">3</label>
              <input type="radio" id="cwf4" name="chicago_waterfall" value="4"><label for="cwf4">4</label>
              <input type="radio" id="cwf5" name="chicago_waterfall" value="5"><label for="cwf5">5</label>
            </div></div>
            <div><label>„É°„É´„ÉÜ„Ç£„Éá„Ç£„ÉÉ„Éó„Éù„ÉÉ„ÉàÔºà„ÉÅ„Éº„Ç∫„Éï„Ç©„É≥„Éá„É•Ôºâ</label><div class="opt" role="radiogroup">
              <input type="radio" id="mdp1" name="melty_dip_pot" value="1" required><label for="mdp1">1</label>
              <input type="radio" id="mdp2" name="melty_dip_pot" value="2"><label for="mdp2">2</label>
              <input type="radio" id="mdp3" name="melty_dip_pot" value="3"><label for="mdp3">3</label>
              <input type="radio" id="mdp4" name="melty_dip_pot" value="4"><label for="mdp4">4</label>
              <input type="radio" id="mdp5" name="melty_dip_pot" value="5"><label for="mdp5">5</label>
            </div></div>
            <div><label>„ÉÅ„Éº„Ç∫„Éî„Ç∂„É©„Éú</label><div class="opt" role="radiogroup">
              <input type="radio" id="cpl1" name="cheese_pizza_lab" value="1" required><label for="cpl1">1</label>
              <input type="radio" id="cpl2" name="cheese_pizza_lab" value="2"><label for="cpl2">2</label>
              <input type="radio" id="cpl3" name="cheese_pizza_lab" value="3"><label for="cpl3">3</label>
              <input type="radio" id="cpl4" name="cheese_pizza_lab" value="4"><label for="cpl4">4</label>
              <input type="radio" id="cpl5" name="cheese_pizza_lab" value="5"><label for="cpl5">5</label>
            </div></div>
            <div><label>„Ç®„Çπ„Éó„Éº„Éû„Éê„Çπ„ÇØ</label><div class="opt" role="radiogroup">
              <input type="radio" id="eb1" name="espuma_basque" value="1" required><label for="eb1">1</label>
              <input type="radio" id="eb2" name="espuma_basque" value="2"><label for="eb2">2</label>
              <input type="radio" id="eb3" name="espuma_basque" value="3"><label for="eb3">3</label>
              <input type="radio" id="eb4" name="espuma_basque" value="4"><label for="eb4">4</label>
              <input type="radio" id="eb5" name="espuma_basque" value="5"><label for="eb5">5</label>
            </div></div>
          </div>

          <div class="grid" style="margin-top:10px">
            <label>„ÅäÊ∞ó„Å´ÂÖ•„Çä„ÅÆÈ†Ü‰ΩçÔºàÈáçË§á‰∏çÂèØÔºâ</label>
            <div class="two">
              <div><span class="help">1‰Ωç</span>
                <select id="rank1" name="favorite_rank_1" required>
                  <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                  <option>„É©„ÇØ„É¨„ÉÉ„Éà„Çπ„É©„Ç§„ÉÄ„Éº</option><option>„Ç∑„Ç´„Ç¥„Ç¶„Ç©„Éº„Çø„Éº„Éï„Ç©„Éº„É´</option>
                  <option>„É°„É´„ÉÜ„Ç£„Éá„Ç£„ÉÉ„Éó„Éù„ÉÉ„ÉàÔºà„ÉÅ„Éº„Ç∫„Éï„Ç©„É≥„Éá„É•Ôºâ</option><option>„ÉÅ„Éº„Ç∫„Éî„Ç∂„É©„Éú</option><option>„Ç®„Çπ„Éó„Éº„Éû„Éê„Çπ„ÇØ</option>
                </select>
              </div>
              <div><span class="help">2‰Ωç</span>
                <select id="rank2" name="favorite_rank_2" required>
                  <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                  <option>„É©„ÇØ„É¨„ÉÉ„Éà„Çπ„É©„Ç§„ÉÄ„Éº</option><option>„Ç∑„Ç´„Ç¥„Ç¶„Ç©„Éº„Çø„Éº„Éï„Ç©„Éº„É´</option>
                  <option>„É°„É´„ÉÜ„Ç£„Éá„Ç£„ÉÉ„Éó„Éù„ÉÉ„ÉàÔºà„ÉÅ„Éº„Ç∫„Éï„Ç©„É≥„Éá„É•Ôºâ</option><option>„ÉÅ„Éº„Ç∫„Éî„Ç∂„É©„Éú</option><option>„Ç®„Çπ„Éó„Éº„Éû„Éê„Çπ„ÇØ</option>
                </select>
              </div>
              <div><span class="help">3‰Ωç</span>
                <select id="rank3" name="favorite_rank_3" required>
                  <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                  <option>„É©„ÇØ„É¨„ÉÉ„Éà„Çπ„É©„Ç§„ÉÄ„Éº</option><option>„Ç∑„Ç´„Ç¥„Ç¶„Ç©„Éº„Çø„Éº„Éï„Ç©„Éº„É´</option>
                  <option>„É°„É´„ÉÜ„Ç£„Éá„Ç£„ÉÉ„Éó„Éù„ÉÉ„ÉàÔºà„ÉÅ„Éº„Ç∫„Éï„Ç©„É≥„Éá„É•Ôºâ</option><option>„ÉÅ„Éº„Ç∫„Éî„Ç∂„É©„Éú</option><option>„Ç®„Çπ„Éó„Éº„Éû„Éê„Çπ„ÇØ</option>
                </select>
              </div>
            </div>
          </div>

          <div class="btns"><button type="button" class="ghost" data-prev>Êàª„Çã</button><button type="button" class="primary" data-next>Ê¨°„Å∏ÔºàC„Å∏Ôºâ</button></div>
        </section>

        <!-- C -->
        <section class="step" data-step="3">
          <div class="section-badge section-badge--c">C. Êù•Â∫óÂãïÊ©ü„ÉªÊ¨°Âõû„Éã„Éº„Ç∫„ÉªÂ±ûÊÄßÔºàÊúÄÁµÇÁîªÈù¢Ôºâ</div>

          <div class="grid">
            <div class="cgroup alt2">
              <label>Êù•Â∫óÂãïÊ©üÔºàË§áÊï∞ÈÅ∏ÊäûÂèØÔºâ <span class="hint">‚Äª „ÅÇ„Å¶„ÅØ„Åæ„Çã„ÇÇ„ÅÆ„Çí„Åô„Åπ„Å¶</span></label>
              <div class="divider"></div>
              <div class="opt">
                <input type="checkbox" id="mot1" name="visit_motivation" value="ÂÜôÁúü„ÇíË¶ã„Å¶„Åä„ÅÑ„Åó„Åù„ÅÜ„Å†„Å£„Åü"><label for="mot1">ÂÜôÁúü„ÇíË¶ã„Å¶„Åä„ÅÑ„Åó„Åù„ÅÜ„Å†„Å£„Åü</label>
                <input type="checkbox" id="mot2" name="visit_motivation" value="„ÉÅ„Éº„Ç∫„ÅåÂ§ßÂ•Ω„Åç"><label for="mot2">„ÉÅ„Éº„Ç∫„ÅåÂ§ßÂ•Ω„Åç</label>
                <input type="checkbox" id="mot3" name="visit_motivation" value="ÂÜôÁúü„ÇíÊíÆ„Çä„Åü„ÅÑ„ÉªÊò†„Åà„Åù„ÅÜ„Å†„Å£„Åü"><label for="mot3">ÂÜôÁúü„ÇíÊíÆ„Çä„Åü„ÅÑ„ÉªÊò†„Åà„Åù„ÅÜ„Å†„Å£„Åü</label>
                <input type="checkbox" id="mot4" name="visit_motivation" value="SNS„ÅÆÊäïÁ®ø„ÇíË¶ã„Å¶"><label for="mot4">SNS„ÅÆÊäïÁ®ø„ÇíË¶ã„Å¶</label>
                <input type="checkbox" id="mot5" name="visit_motivation" value="Âèã„Å†„Å°„Å´Ë™ò„Çè„Çå„Å¶"><label for="mot5">Âèã„Å†„Å°„Å´Ë™ò„Çè„Çå„Å¶</label>
                <input type="checkbox" id="mot6" name="visit_motivation" value="‰æ°Ê†º„Åå„Å°„Çá„ÅÜ„Å©ËâØ„Åã„Å£„Åü"><label for="mot6">‰æ°Ê†º„Åå„Å°„Çá„ÅÜ„Å©ËâØ„Åã„Å£„Åü</label>
                <input type="checkbox" id="mot7" name="visit_motivation" value="ÈôêÂÆö„ÉªÊñ∞„É°„Éã„É•„Éº„Å´ÊÉπ„Åã„Çå„Å¶"><label for="mot7">ÈôêÂÆö„ÉªÊñ∞„É°„Éã„É•„Éº„Å´ÊÉπ„Åã„Çå„Å¶</label>
                <input type="checkbox" id="mot_etc" name="visit_motivation" value="„Åù„ÅÆ‰ªñ"><label for="mot_etc">„Åù„ÅÆ‰ªñ</label>
              </div>
              <input type="text" id="mot_etc_text" name="visit_motivation_other" placeholder="„Åù„ÅÆ‰ªñÔºà„Çà„Çç„Åó„Åë„Çå„Å∞ÁêÜÁî±„ÇíÔºâ" style="margin-top:8px">
            </div>

            <div class="two">
              <div class="cgroup alt1">
                <label>‰∫àÁ¥ÑÁµåË∑Ø</label>
                <div class="divider"></div>
                <div class="opt">
                  <input type="radio" id="bc1" name="booking_channel" value="LINE"><label for="bc1">LINE</label>
                  <input type="radio" id="bc2" name="booking_channel" value="Instagram"><label for="bc2">Instagram</label>
                  <input type="radio" id="bc3" name="booking_channel" value="Áü•‰∫∫Á¥π‰ªã"><label for="bc3">Áü•‰∫∫Á¥π‰ªã</label>
                  <input type="radio" id="bc4" name="booking_channel" value="Â∫óÈ†≠"><label for="bc4">Â∫óÈ†≠</label>
                  <input type="radio" id="bc5" name="booking_channel" value="GoogleÊ§úÁ¥¢"><label for="bc5">GoogleÊ§úÁ¥¢</label>
                  <input type="radio" id="bc6" name="booking_channel" value="„Åù„ÅÆ‰ªñ"><label for="bc6">„Åù„ÅÆ‰ªñ</label>
                </div>
                <input type="text" id="booking_other" name="booking_channel_other" placeholder="„Åù„ÅÆ‰ªñÔºàËá™Áî±Ë®òËø∞Ôºâ" style="margin-top:8px">
              </div>
              <div class="cgroup">
                <label>„Ç§„Éô„É≥„Éà„ÇíÁü•„Å£„Åü„Åç„Å£„Åã„Åë</label>
                <div class="divider"></div>
                <div class="opt">
                  <input type="radio" id="aw1" name="awareness_channel" value="LINE"><label for="aw1">LINE</label>
                  <input type="radio" id="aw2" name="awareness_channel" value="Instagram"><label for="aw2">Instagram</label>
                  <input type="radio" id="aw3" name="awareness_channel" value="Áü•‰∫∫Á¥π‰ªã"><label for="aw3">Áü•‰∫∫Á¥π‰ªã</label>
                  <input type="radio" id="aw4" name="awareness_channel" value="Â∫óÈ†≠"><label for="aw4">Â∫óÈ†≠</label>
                  <input type="radio" id="aw5" name="awareness_channel" value="GoogleÊ§úÁ¥¢"><label for="aw5">GoogleÊ§úÁ¥¢</label>
                  <input type="radio" id="aw6" name="awareness_channel" value="„Åù„ÅÆ‰ªñ"><label for="aw6">„Åù„ÅÆ‰ªñ</label>
                </div>
                <input type="text" id="awareness_other" name="awareness_channel_other" placeholder="„Åù„ÅÆ‰ªñÔºàËá™Áî±Ë®òËø∞Ôºâ" style="margin-top:8px">
              </div>
            </div>

            <div class="cgroup alt2">
              <label>Ê¨°Âõû„ÅÆÂ∏åÊúõ„ÉÜ„Éº„ÉûÔºàË§áÊï∞ÂèØÔºâ</label>
              <div class="divider"></div>
              <div class="opt">
                <input type="checkbox" id="theme_meat" name="next_theme" value="ËÇâ„Éï„Çß„Çπ"><label for="theme_meat">ËÇâ„Éï„Çß„Çπ</label>
                <input type="checkbox" id="theme_wine" name="next_theme" value="„ÉØ„Ç§„É≥&„ÉÅ„Éº„Ç∫"><label for="theme_wine">„ÉØ„Ç§„É≥&„ÉÅ„Éº„Ç∫</label>
                <input type="checkbox" id="theme_world" name="next_theme" value="‰∏ñÁïå„ÅÆ„ÉÅ„Éº„Ç∫"><label for="theme_world">‰∏ñÁïå„ÅÆ„ÉÅ„Éº„Ç∫</label>
                <input type="checkbox" id="theme_family" name="next_theme" value="„Éï„Ç°„Éü„É™„ÉºÊòº"><label for="theme_family">„Éï„Ç°„Éü„É™„ÉºÊòº</label>
                <input type="checkbox" id="theme_steak" name="next_theme" value="Ëµ§Ë∫´„Çπ„ÉÜ„Éº„Ç≠"><label for="theme_steak">Ëµ§Ë∫´„Çπ„ÉÜ„Éº„Ç≠</label>
                <input type="checkbox" id="theme_american" name="next_theme" value="„Ç¢„É°„É™„Ç´„É≥„Éë„Éº„ÉÜ„Ç£"><label for="theme_american">„Ç¢„É°„É™„Ç´„É≥„Éë„Éº„ÉÜ„Ç£</label>
                <input type="checkbox" id="theme_other" name="next_theme" value="„Åù„ÅÆ‰ªñ"><label for="theme_other">„Åù„ÅÆ‰ªñ</label>
              </div>
              <input type="text" id="theme_other_text" name="theme_other_text" placeholder="„Åù„ÅÆ‰ªñÔºàËá™Áî±Ë®òËø∞Ôºâ" style="margin-top:8px">
            </div>

            <div class="two">
              <div class="cgroup alt1">
                <label>ÈñãÂÇ¨„ÅÆÂ∏åÊúõ</label>
                <div class="divider"></div>
                <div class="opt">
                  <input type="radio" id="pt1" name="preferred_time" value="Âπ≥Êó•Â§ú"><label for="pt1">Âπ≥Êó•Â§ú</label>
                  <input type="radio" id="pt2" name="preferred_time" value="ÂúüÊõúÂ§ú"><label for="pt2">ÂúüÊõúÂ§ú</label>
                  <input type="radio" id="pt3" name="preferred_time" value="Êó•ÊõúÊòº"><label for="pt3">Êó•ÊõúÊòº</label>
                  <input type="radio" id="pt4" name="preferred_time" value="Á•ùÊó•ÂâçÂ§ú"><label for="pt4">Á•ùÊó•ÂâçÂ§ú</label>
                  <input type="radio" id="pt5" name="preferred_time" value="„Åù„ÅÆ‰ªñ"><label for="pt5">„Åù„ÅÆ‰ªñ</label>
                </div>
                <input type="text" id="preferred_time_other" name="preferred_time_other" placeholder="„Åù„ÅÆ‰ªñÔºàËá™Áî±Ë®òËø∞Ôºâ" style="margin-top:8px">
              </div>
              <div class="cgroup">
                <label>‰æ°Ê†ºÂ∏Ø„ÅÆÂ∏åÊúõ</label>
                <div class="divider"></div>
                <div class="opt">
                  <input type="radio" id="pp1" name="preferred_price" value="2,500ÂÜÜ"><label for="pp1">2,500ÂÜÜ</label>
                  <input type="radio" id="pp2" name="preferred_price" value="3,000ÂÜÜ"><label for="pp2">3,000ÂÜÜ</label>
                  <input type="radio" id="pp3" name="preferred_price" value="3,500ÂÜÜ"><label for="pp3">3,500ÂÜÜ</label>
                  <input type="radio" id="pp4" name="preferred_price" value="4,000ÂÜÜ"><label for="pp4">4,000ÂÜÜ</label>
                  <input type="radio" id="pp5" name="preferred_price" value="5,000ÂÜÜ‰ª•‰∏ä"><label for="pp5">5,000ÂÜÜ‰ª•‰∏ä</label>
                </div>
              </div>
            </div>

            <div class="cgroup alt2">
              <label>Âêå‰º¥ËÄÖ„Éª‰∫∫Êï∞„ÉªÂπ¥‰ª£</label>
              <div class="divider"></div>
              <div class="two">
                <div>
                  <div class="opt" style="margin-bottom:8px">
                    <input type="radio" id="p1" name="companion_type" value="„Å≤„Å®„Çä"><label for="p1">„Å≤„Å®„Çä</label>
                    <input type="radio" id="p2" name="companion_type" value="„Ç´„ÉÉ„Éó„É´"><label for="p2">„Ç´„ÉÉ„Éó„É´</label>
                    <input type="radio" id="p3" name="companion_type" value="Âèã‰∫∫"><label for="p3">Âèã‰∫∫</label>
                    <input type="radio" id="p4" name="companion_type" value="ÂÆ∂Êóè(Â≠ê„Å©„ÇÇ„ÅÇ„Çä)"><label for="p4">ÂÆ∂Êóè(Â≠ê„Å©„ÇÇ„ÅÇ„Çä)</label>
                    <input type="radio" id="p5" name="companion_type" value="ÂÆ∂Êóè(Â≠ê„Å©„ÇÇ„Å™„Åó)"><label for="p5">ÂÆ∂Êóè(Â≠ê„Å©„ÇÇ„Å™„Åó)</label>
                    <input type="radio" id="p6" name="companion_type" value="„Åù„ÅÆ‰ªñ"><label for="p6">„Åù„ÅÆ‰ªñ</label>
                  </div>
                  <input type="text" id="party_other" name="companion_type_other" placeholder="„Åù„ÅÆ‰ªñÔºàËá™Áî±Ë®òËø∞Ôºâ">
                </div>
                <div>
                  <label for="group_size" class="help">Êù•Â∫ó‰∫∫Êï∞ÔºàËá™„Ç∞„É´„Éº„ÉóÔºâ</label>
                  <input type="number" id="group_size" name="group_size" min="1" max="20" placeholder="‰æãÔºö2">
                  <label class="help" style="margin-top:10px">Âπ¥‰ª£</label>
                  <div class="opt">
                    <input type="radio" id="age10" name="age" value="10‰ª£"><label for="age10">10‰ª£</label>
                    <input type="radio" id="age20" name="age" value="20‰ª£"><label for="age20">20‰ª£</label>
                    <input type="radio" id="age30" name="age" value="30‰ª£"><label for="age30">30‰ª£</label>
                    <input type="radio" id="age40" name="age" value="40‰ª£"><label for="age40">40‰ª£</label>
                    <input type="radio" id="age50" name="age" value="50‰ª£"><label for="age50">50‰ª£</label>
                    <input type="radio" id="age60" name="age" value="60‰ª£‰ª•‰∏ä"><label for="age60">60‰ª£‰ª•‰∏ä</label>
                  </div>
                </div>
              </div>
            </div>

            <div class="cgroup alt1">
              <label>„ÅîË¶ÅÊúõ„Éª„ÅîÊÑèË¶ãÔºà‰ªªÊÑèÔºâ</label>
              <div class="divider"></div>
              <textarea id="feedback" name="feedback" placeholder="„É°„Éã„É•„Éº„ÅÆÊÑüÊÉ≥„ÄÅÊ¨°Âõû„ÇÑ„Å£„Å¶„Åª„Åó„ÅÑ„Åì„Å®„ÄÅ„Çπ„Çø„ÉÉ„Éï„Å∏„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„Å™„Å©„ÅîËá™Áî±„Å´„Å©„ÅÜ„ÅûÔºà‰ªªÊÑèÔºâ"></textarea>
            </div>
          </div>

          <div class="btns"><button type="button" class="ghost" data-prev>Êàª„Çã</button><button type="submit" class="primary">ÈÄÅ‰ø°„Åô„Çã</button></div>
        </section>
      </form>
    </div>

    <div id="result" class="card" style="display:none"></div>
    <div class="foot muted">ÂåøÂêç„Åß„ÅÆ„ÅîÂçîÂäõ„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇÂÖ•ÂäõÂÜÖÂÆπ„ÅØÊîπÂñÑ„ÉªÂìÅË≥™Âêë‰∏ä„ÅÆÁõÆÁöÑ„Åß„ÅÆ„ÅøÂà©Áî®„Åó„Åæ„Åô„ÄÇ</div>
  </div>

  <div class="confetti" id="confetti" aria-hidden="true"></div>

  <script>
    const FORMSPREE_ENDPOINT = "https://formspree.io/f/xdkwdvvj";

    const steps = Array.from(document.querySelectorAll('.step'));
    let idx = 0;
    const progress = document.getElementById('progress');
    const buddy = document.getElementById('buddy');
    const capL = document.getElementById('captionLeft');
    const capR = document.getElementById('captionRight');
    const bubble = document.getElementById('bubble');

    // Âõ∫ÂÆö„É°„Éº„Çø„Éº: A=0, B=33, C=66ÔºàÈÄÅ‰ø°ÊàêÂäü„Åß100Ôºâ
    const pctByStep = [0, 33, 66];
    const captions = [
      {l:'A. ÂÖ®‰ΩìË©ï‰æ° / ÊÆã„Çä2ÁîªÈù¢', b:'A„ÇØ„É™„Ç¢ÔºÅÊ¨°„Å∏ÈÄ≤„ÇÇ„ÅÜüßÄ'},
      {l:'B. ÂêÑ„Ç¢„Éà„É©„ÇØ„Ç∑„Éß„É≥ / ÊÆã„Çä1ÁîªÈù¢', b:'„ÅÑ„ÅÑÊµÅ„ÇåÔºÅ„ÅäÊ∞ó„Å´ÂÖ•„Çä„ÇÇÈÅ∏„Çì„Åß„Å≠üé¢'},
      {l:'C. Êù•Â∫óÂãïÊ©ü„Åª„Åã / ÊúÄÁµÇÁîªÈù¢', b:'„Åì„Åì„ÅåÊúÄÂæåÔºÅ„ÄåÈÄÅ‰ø°„Äç„ÅßÂÆå‰∫Ü‚ú®'}
    ];

    function confettiBurst(n=36){
      const root = document.getElementById('confetti');
      for(let i=0;i<n;i++){
        const s = document.createElement('span');
        s.textContent = Math.random()>.4 ? 'üßÄ' : (Math.random()>.5?'‚ú®':'‚≠êÔ∏è');
        s.style.left = Math.random()*100 + 'vw';
        s.style.setProperty('--x', (Math.random()*200-100)+'px');
        s.style.animationDuration = (1.2+Math.random()*0.8)+'s';
        root.appendChild(s);
        setTimeout(()=> s.remove(), 1800);
      }
    }

    function updateProgress(){
      const pct = pctByStep[idx] ?? 0;
      progress.style.width = pct + '%';
      buddy.style.left = pct + '%';
      capL.textContent = captions[idx].l;
      capR.textContent = `${pct}%`;
      bubble.innerHTML = captions[idx].b;
    }

    function goto(i){
      steps[idx].classList.remove('active');
      idx = i; steps[idx].classList.add('active');
      updateProgress();
      const firstInput = steps[idx].querySelector('input, select, textarea, button');
      if(firstInput) firstInput.focus({preventScroll:false});
      window.scrollTo({top:0, behavior:'smooth'});
    }

    document.querySelectorAll('[data-next]').forEach(b=>b.addEventListener('click', ()=>{
      const required = steps[idx].querySelectorAll('[required]');
      for(const el of required){
        if(el.type==='radio'){
          const name = el.name;
          if(!steps[idx].querySelector(`input[name="${name}"]:checked`)){
            steps[idx].classList.add('error'); setTimeout(()=>steps[idx].classList.remove('error'), 800); return;
          }
        } else if(el.tagName==='SELECT' && !el.value){
          steps[idx].classList.add('error'); setTimeout(()=>steps[idx].classList.remove('error'), 800); return;
        }
      }
      if(idx===0 || idx===1) confettiBurst(18);
      goto(Math.min(idx+1, steps.length-1));
    }));
    document.querySelectorAll('[data-prev]').forEach(b=>b.addEventListener('click', ()=> goto(Math.max(idx-1, 0))));

    document.getElementById('timestamp').value = new Date().toISOString();
    const params = new URLSearchParams(location.search);
    document.getElementById('source').value = params.get('ch') || params.get('utm_source') || '';

    function toggleEtc(triggerId, inputId){
      const t = document.getElementById(triggerId); const i = document.getElementById(inputId);
      function u(){ const on = t.checked || (t.type==='radio' && t.checked); i.style.display = on ? 'block' : 'none'; if(!on) i.value=''; }
      t.addEventListener('change', u); u();
    }
    ['mot_etc:mot_etc_text','theme_other:theme_other_text','pt5:preferred_time_other','p6:party_other','bc6:booking_other','aw6:awareness_other']
      .forEach(pair=>{ const [t,i]=pair.split(':'); toggleEtc(t,i); });

    const selects = ['rank1','rank2','rank3'].map(id=>document.getElementById(id));
    function refreshOptions(){
      const chosen = new Set(selects.map(s=>s.value).filter(Boolean));
      selects.forEach(s=>{
        Array.from(s.options).forEach(o=>{ if(!o.value) return; o.disabled = !o.selected && chosen.has(o.value); });
      });
    }
    selects.forEach(s=> s.addEventListener('change', refreshOptions));

    const form = document.getElementById('form');
    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const requiredNames = ['csat','nps','rejoin','price_fairness','raclette_slider','chicago_waterfall','melty_dip_pot','cheese_pizza_lab','espuma_basque'];
      for(const n of requiredNames){
        if(!form.querySelector(`[name="${n}"]:checked`)){
          alert('Êú™ÂõûÁ≠î„ÅÆÂøÖÈ†àÈ†ÖÁõÆ„Åå„ÅÇ„Çä„Åæ„Åô');
          goto(n.includes('raclette')||n.includes('waterfall')||n.includes('dip')||n.includes('pizza')||n.includes('espuma') ? 1 : 0);
          return;
        }
      }
      for(const id of ['rank1','rank2','rank3']){ if(!document.getElementById(id).value){ alert('„ÅäÊ∞ó„Å´ÂÖ•„Çä„ÅÆÈ†Ü‰Ωç„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ'); goto(1); return; } }
      const [r1,r2,r3] = selects.map(s=>s.value);
      if(new Set([r1,r2,r3]).size<3){ alert('1‰Ωç„Éª2‰Ωç„Éª3‰Ωç„ÅØÈáçË§á„Åó„Å™„ÅÑ„Çà„ÅÜÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ'); goto(1); return; }

      const data = new FormData(form);
      try{
        const res = await fetch(FORMSPREE_ENDPOINT, { method:'POST', body:data, headers:{ 'Accept':'application/json' }});
        if(res.ok){
          // ÊàêÂäüÁîªÈù¢
          document.querySelector('.card').style.display='none';
          const result = document.getElementById('result');
          result.style.display='block';
          // ÈÄ≤Ë°åÁéá„Çí100%„Å´ÔºàÂÆå‰∫ÜÊºîÂá∫Ôºâ
          progress.style.width = '100%'; buddy.style.left = '100%'; capL.textContent = 'ÈÄÅ‰ø°ÂÆå‰∫Ü / „ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„ÅüÔºÅ'; capR.textContent = '100%';
          // „É°„ÉÉ„Çª„Éº„Ç∏ÔºãÂÜôÁúü
          result.innerHTML = `
            <h2 style="margin:0 0 10px">„ÅîÂõûÁ≠î„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„ÅüÔºÅ</h2>
            <img src="staff.jpg" alt="KU-DETA „Çπ„Çø„ÉÉ„Éï" style="width:100%;max-width:620px;border-radius:16px;display:block;margin:6px 0 14px;object-fit:cover">
            <div style="background:#0f1426;border:1px solid rgba(255,255,255,.14);border-radius:16px;padding:16px 14px;line-height:1.9;box-shadow:0 6px 20px rgba(0,0,0,.25);">
              <p>„Åì„ÅÆÂ∫¶„ÅØ„ÉÅ„Éº„Ç∫„ÉØ„É≥„ÉÄ„Éº„É©„É≥„Éâ„Å´„ÅîÂèÇÂä†„ÅÑ„Åü„Å†„Åç„ÄÅÊú¨ÂΩì„Å´„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„ÄÇ</p>
              <p>ÁßÅ„Åü„Å°„ÅÆÊ∫ñÂÇô‰∏çË∂≥„Åß„ÄÅ„Çπ„É†„Éº„Ç∫„Å™ÈÄ≤Ë°å„Åå„Åß„Åç„Åö„ÅîËø∑ÊÉë„Çí„Åä„Åã„Åë„Åó„Åæ„Åó„Åü„ÄÇ</p>
              <p>Áî≥„ÅóË®≥„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</p>
              <p>„Åì„ÅÆ„Çà„ÅÜ„Å™ÂΩ¢„ÅßÊñ∞„Åó„ÅÑË©¶„Åø„Å∏„ÅÆÊåëÊà¶„ÇíÊ∏©„Åã„ÅÑÁõÆ„ÅßË¶ãÂÆà„Å£„Å¶„Åè„Å†„Åï„Çã„ÅäÂÆ¢Êßò„ÅÆ„Åä„Åã„Åí„Åß„ÄÅÈÅãÂñ∂„ÇíÁµÇ„Åà„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åó„Åü„ÄÇ</p>
              <p>„Åì„ÅÆÁµåÈ®ì„Çí„Åó„Å£„Åã„Çä„Å®Á≥ß„Å´„Åó„Å¶‰ªäÂæå„ÅÆKU-DETA„ÅÆÂñ∂Ê•≠„Åæ„ÅüÊõ¥„Å™„Çã‰æ°ÂÄ§„Çí„ÅîÊèê‰æõ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Çπ„Çø„ÉÉ„Éï‰∏Ä‰∏∏„Å®„Å™„Å£„Å¶Âèñ„ÇäÁµÑ„Çì„Åß„Åæ„ÅÑ„Çä„Åæ„Åô„ÄÇ</p>
              <p>„Åì„Çå„Åã„Çâ„ÇÇKU-DETA„Çí„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ</p>
            </div>
          `;
          confettiBurst(60);
          localStorage.setItem('cw_survey_submitted','1');
        } else {
          const payload = await res.json().catch(()=>({}));
          throw new Error(payload?.error || 'ÈÄÅ‰ø°„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÊôÇÈñì„ÇíÁΩÆ„ÅÑ„Å¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ');
        }
      } catch(err){ alert(err.message); }
    });

    function init(){ updateProgress(); refreshOptions(); }
    init();

    // ÈÄÅ‰ø°Ê∏à„ÅøÂÜçË®™ÊôÇ
    if(localStorage.getItem('cw_survey_submitted')==='1'){
      document.querySelector('#result').style.display='block';
      document.querySelector('#result').innerHTML = `<h2>ÈÄÅ‰ø°„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„ÅüÔºÅ</h2><p class="muted">ÂÜçÂ∫¶ÂõûÁ≠î„Åï„Çå„ÇãÂ†¥Âêà„ÅØ„ÄÅ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>`;
      document.querySelector('.card').style.display='none';
      progress.style.width = '100%'; buddy.style.left = '100%'; capL.textContent = 'ÈÄÅ‰ø°ÂÆå‰∫Ü / „ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„ÅüÔºÅ'; capR.textContent = '100%';
    }
  </script>
</body>
</html>
